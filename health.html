<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HealthFit</title>

  <!-- Tailwind (개발용 CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- 메인 스타일 -->
  <link rel="stylesheet" href="health.css" />
</head>
<body class="bg-gray-50">

  <!-- =========================================================
       상단바 — POKERUN 원본 스타일
  ========================================================== -->
  <header id="main-header" class="fixed top-0 w-full z-30 px-5 h-[56px] flex justify-between items-center glass border-b border-line shrink-0">
    <div class="flex items-center gap-2">
      <div class="bg-accent p-1 rounded text-white shadow-lg transition-colors duration-300">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="zap" class="lucide lucide-zap w-5 h-5 fill-current"><path d="M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z"></path></svg>
      </div>
      <h1 class="text-xl font-sport font-black italic tracking-tighter text-txt">
        POKE<span class="text-accent">RUN</span>
        <span class="text-xs align-top text-red-500">PRO</span>
      </h1>
    </div>
    
    <div class="flex items-center gap-2">
      <!-- 원본 기능은 일단 유지 / JS에서 안 써도 됨 -->
      <button class="p-2 rounded-full bg-gray-200/20 hover:bg-gray-200/40 transition-colors">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="settings" class="lucide lucide-settings w-5 h-5 text-txt"><path d="M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"></path><circle cx="12" cy="12" r="3"></circle></svg>
      </button>
      <button class="p-2 rounded-full bg-gray-200/20 hover:bg-gray-200/40 transition-colors">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="moon" id="theme-icon" class="lucide lucide-moon lucide-sun w-5 h-5 text-txt"><path d="M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"></path></svg>
      </button>
      <div class="flex items-center gap-2 bg-black/10 px-4 py-1.5 rounded-full border border-line">
        <span class="text-yellow-400 text-xs font-bold">●</span>
        <span id="display-coins" class="font-sport font-bold text-sm text-txt">0</span>
      </div>
    </div>
  </header>

  <!-- 헤더 높이만큼 아래 여백 -->
  <main class="pt-[72px] pb-[80px] min-h-screen">

    <!-- =======================================================
         PAGE: CALENDAR (운동 기록 달력)
    ======================================================== -->
    <section id="page-calendar" class="page hidden px-4">
      <h2 class="text-xl font-bold mb-3">운동 기록 달력</h2>

      <div class="flex justify-between items-center mb-2">
        <button id="calendar-prev-month" class="px-2 py-1 bg-gray-100 rounded">◀</button>
        <div id="calendar-title" class="font-bold text-lg"></div>
        <button id="calendar-next-month" class="px-2 py-1 bg-gray-100 rounded">▶</button>
      </div>

      <div class="grid grid-cols-7 text-center text-xs text-gray-500 mb-1">
        <div>일</div><div>월</div><div>화</div><div>수</div><div>목</div><div>금</div><div>토</div>
      </div>

      <div id="calendar-month-grid" class="grid grid-cols-7 gap-1 mb-4"></div>

      <div class="mb-2 flex justify-between items-center">
        <div id="selected-date-label" class="font-bold text-blue-700 text-sm"></div>
        <button id="calendar-today-btn" class="text-xs px-2 py-1 border rounded">오늘</button>
      </div>

      <div class="text-xs text-gray-600 mb-2">
        총 볼륨: <span id="selected-date-volume">0kg</span> · 종목
        <span id="selected-date-exercise-count">0</span>개
      </div>

      <div id="selected-date-workouts" class="space-y-2 mb-3"></div>

      <button id="open-daily-log-modal" class="text-xs px-3 py-1 border rounded bg-white">
        전체 기록 보기
      </button>
    </section>

    <!-- =======================================================
         PAGE: ROUTINES (루틴 관리)
         - 루틴 리스트
         - 루틴 생성 플로팅 버튼
    ======================================================== -->
    <section id="page-routines" class="page hidden px-4">
      <h2 class="text-xl font-bold mb-3">루틴 관리</h2>

      <!-- 루틴 리스트 -->
      <div id="routine-list" class="space-y-3 mb-20"></div>

      <!-- 루틴 생성 버튼 (우측 하단 +) -->
      <button id="open-routine-create-modal"
              class="fixed bottom-[96px] right-4 bg-blue-500 text-white w-14 h-14 rounded-full shadow-xl flex items-center justify-center text-3xl">
        +
      </button>
    </section>

    <!-- =======================================================
         PAGE: HOME (오늘의 운동)
         - 일주일 달력
         - 루틴 선택 → 운동 시작
    ======================================================== -->
    <section id="page-home" class="page px-4">
      <h2 class="text-xl font-bold mb-3">오늘의 운동</h2>

      <!-- 일주일 달력 (일요일 시작) -->
      <div id="home-weekly-calendar" class="grid grid-cols-7 gap-1 mb-3"></div>
      <div id="home-session-date" class="font-semibold text-sm text-blue-700 mb-2"></div>

      <!-- 루틴 선택 후 운동 시작 -->
      <select id="home-routine-select" class="w-full border rounded-lg px-3 py-2 text-sm mb-3"></select>
      <button id="home-start-from-routine" class="w-full bg-blue-500 text-white py-2 rounded-lg mb-4">
        루틴으로 운동 시작
      </button>

      <!-- 오늘 세션 요약 -->
      <div id="home-session-list" class="space-y-3"></div>
    </section>

    <!-- =======================================================
         PAGE: STATS (운동 통계)
    ======================================================== -->
    <section id="page-stats" class="page hidden px-4">
      <h2 class="text-xl font-bold mb-3">운동 통계</h2>

      <div class="flex gap-2 mb-2">
        <button id="stats-range-7" class="px-3 py-1 rounded border text-sm">최근 7일</button>
        <button id="stats-range-30" class="px-3 py-1 rounded border text-sm">최근 30일</button>
        <button id="stats-range-all" class="px-3 py-1 rounded border text-sm">전체</button>
      </div>

      <div id="stats-period-label" class="text-xs text-gray-500 mb-2"></div>

      <div class="h-[200px] mb-4">
        <canvas id="stats-bodypart-chart"></canvas>
      </div>

      <div id="stats-bodypart-list" class="space-y-2 mb-4"></div>

      <h3 class="font-bold mb-1">PR 기록</h3>
      <div id="pr-list" class="space-y-2"></div>
    </section>

    <!-- =======================================================
         PAGE: PROFILE (프로필)
    ======================================================== -->
    <section id="page-profile" class="page hidden px-4 mb-10">
      <h2 class="text-xl font-bold mb-3">프로필</h2>

      <div class="flex items-center justify-center mx-auto mb-3">
        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="user" class="lucide lucide-user w-12 h-12 text-blue-500"><path d="M18 20a6 6 0 0 0-12 0"></path><circle cx="12" cy="10" r="4"></circle></svg>
      </div>

      <button id="reset-data-btn" class="w-full bg-red-500 text-white py-2 rounded-lg">
        전체 데이터 초기화
      </button>
    </section>

  </main>

  <!-- =========================================================
       DAILY LOG MODAL (날짜별 전체 기록)
  ========================================================== -->
  <div id="daily-log-modal" class="hidden fixed inset-0 bg-black/40 flex items-center justify-center px-4">
    <div class="bg-white w-full max-w-md rounded-xl p-4">
      <div class="flex justify-between items-center mb-2">
        <div id="daily-log-title" class="font-bold text-lg"></div>
        <button id="close-daily-log-modal" class="text-gray-500 text-xl">✕</button>
      </div>
      <div id="daily-log-list" class="space-y-2 max-h-[60vh] overflow-y-auto"></div>
    </div>
  </div>

  <!-- =========================================================
       ROUTINE EDITOR MODAL
       B안 구조용: 부위 탭 + 종목 리스트 + 선택된 운동(세트/무게/횟수)
  ========================================================== -->
  <div id="routine-editor-modal" class="hidden fixed inset-0 bg-black/40 flex items-center justify-center px-4">
    <div class="bg-white w-full max-w-lg rounded-xl p-4 space-y-3">
      <div class="flex justify-between items-center">
        <div id="routine-editor-title" class="font-bold text-lg">루틴 만들기</div>
        <button id="close-routine-editor" class="text-gray-500 text-xl">✕</button>
      </div>

      <!-- 루틴 이름 -->
      <input id="routine-name-input" class="w-full border rounded-lg px-3 py-2"
             placeholder="루틴 이름 입력 (예: 상체 루틴 A)" />

      <!-- 부위 탭 (가로 스크롤) -->
      <div id="routine-part-tabs" class="flex gap-2 overflow-x-auto py-1"></div>

      <!-- 선택된 부위의 종목 리스트 -->
      <div id="routine-exercise-list"
           class="space-y-2 max-h-[180px] overflow-y-auto border rounded p-2 bg-gray-50"></div>

      <!-- 선택된 운동 목록 -->
      <h3 class="font-bold text-sm">
        추가된 운동 (<span id="routine-selected-count">0</span>)
      </h3>
      <div id="routine-selected-list"
           class="space-y-2 max-h-[220px] overflow-y-auto border rounded p-2 bg-white"></div>

      <div class="flex justify-between mt-2">
        <button id="routine-delete-btn" class="bg-red-500 text-white px-4 py-2 rounded-lg hidden">삭제</button>
        <button id="routine-save-btn" class="bg-blue-500 text-white px-4 py-2 rounded-lg ml-auto">저장</button>
      </div>
    </div>
  </div>

  <!-- =========================================================
       ROUTINE DETAIL MODAL (루틴 상세 보기)
  ========================================================== -->
  <div id="routine-detail-modal" class="hidden fixed inset-0 bg-black/40 flex items-center justify-center px-4">
    <div class="bg-white w-full max-w-md rounded-xl p-4 space-y-3">
      <div class="flex justify-between items-center">
        <div id="routine-detail-title" class="font-bold text-lg"></div>
        <button id="close-routine-detail" class="text-gray-500 text-xl">✕</button>
      </div>

      <div id="routine-detail-list" class="space-y-2 max-h-[60vh] overflow-y-auto"></div>

      <div class="flex justify-between mt-2">
        <button id="routine-detail-edit" class="bg-blue-500 text-white px-4 py-2 rounded-lg">수정</button>
        <button id="routine-detail-start" class="bg-green-500 text-white px-4 py-2 rounded-lg">운동 시작</button>
      </div>
    </div>
  </div>

  <!-- =========================================================
       하단바 — POKERUN 네비게이션 (CAL / ROUT / HOME / STAT / ME)
  ========================================================== -->
  <nav id="main-nav" class="fixed bottom-0 w-full h-[64px] glass border-t border-line px-2 flex justify-around items-center z-40 transition-colors duration-300">
    <!-- CALENDAR -->
    <button onclick="switchPage('calendar')" id="nav-cal" class="nav-btn group flex flex-col items-center gap-1 p-2 w-16 transition-all text-sub hover:text-txt">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="calendar" class="lucide lucide-calendar w-6 h-6"><path d="M8 2v4"></path><path d="M16 2v4"></path><rect width="18" height="18" x="3" y="4" rx="2"></rect><path d="M3 10h18"></path></svg>
      <span class="text-[10px] font-black italic font-sport">CAL</span>
    </button>

    <!-- ROUTINES -->
    <button onclick="switchPage('routines')" id="nav-routines" class="nav-btn group flex flex-col items-center gap-1 p-2 w-16 transition-all text-sub hover:text-txt">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="list" class="lucide lucide-list w-6 h-6"><path d="M8 6h13"></path><path d="M8 12h13"></path><path d="M8 18h13"></path><path d="M3 6h.01"></path><path d="M3 12h.01"></path><path d="M3 18h.01"></path></svg>
      <span class="text-[10px] font-black italic font-sport">ROUT</span>
    </button>

    <!-- HOME (중앙 큰 버튼) -->
    <button onclick="switchPage('home')" class="transform transition-transform active:scale-95 group">
      <div class="w-14 h-14 bg-accent rounded-full flex items-center justify-center border-4 border-main shadow-md relative z-10 group-hover:scale-105 transition-all">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="activity" class="lucide lucide-activity w-7 h-7 text-white"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>
      </div>
    </button>

    <!-- STATS -->
    <button onclick="switchPage('stats')" id="nav-stats" class="nav-btn group flex flex-col items-center gap-1 p-2 w-16 transition-all text-sub hover:text-txt">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="bar-chart" class="lucide lucide-bar-chart w-6 h-6"><line x1="12" x2="12" y1="20" y2="10"></line><line x1="18" x2="18" y1="20" y2="4"></line><line x1="6" x2="6" y1="20" y2="16"></line></svg>
      <span class="text-[10px] font-black italic font-sport">STAT</span>
    </button>

    <!-- PROFILE -->
    <button onclick="switchPage('profile')" id="nav-profile" class="nav-btn group flex flex-col items-center gap-1 p-2 w-16 transition-all text-sub hover:text-txt">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="user" class="lucide lucide-user w-6 h-6"><path d="M18 20a6 6 0 0 0-12 0"></path><circle cx="12" cy="10" r="4"></circle></svg>
      <span class="text-[10px] font-black italic font-sport">ME</span>
    </button>
  </nav>

  <!-- 데이터/로직 -->
  <script src="exercises.js"></script>
  <script src="health.js"></script>
</body>
</html>
