<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>POKERUN PRO</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
  <!-- Tailwind CDN (필요 없으면 나중에 빼도 됨) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  />
  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js">
  </script>
    
  <link rel="stylesheet" href="run.css" />
</head>
<body class="bg-white text-black max-w-[412px] h-[917px] mx-auto flex flex-col border border-black overflow-hidden">

  <!-- ✅ 상단바 (POKERUN 헤더) -->
  <header class="topbar">
    <div class="top-left">
      <!-- 파란번개 아이콘 (네가 준 SVG 100% 그대로) -->
      <div class="icon-bolt">
        <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="28" height="28" rx="4" fill="#0066FF"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M15.4121 3.48327C15.6773 3.56029 15.9089 3.71342 16.0733 3.9204C16.2377 4.12738 16.3264 4.37741 16.3263 4.63413V10.6659H21.5505C21.7894 10.6658 22.0238 10.7262 22.2281 10.8406C22.4324 10.955 22.5988 11.1189 22.7092 11.3146C22.8196 11.5103 22.8699 11.7302 22.8544 11.9504C22.8389 12.1706 22.7583 12.3826 22.6215 12.5635L13.4792 24.627C13.3201 24.8375 13.0924 24.9957 12.8292 25.0785C12.5661 25.1612 12.2812 25.1643 12.016 25.0872C11.7509 25.0101 11.5193 24.8568 11.3549 24.6497C11.1905 24.4426 11.102 24.1925 11.1022 23.9357V17.904H5.87803C5.63913 17.9041 5.40478 17.8437 5.20048 17.7293C4.99618 17.6149 4.82976 17.451 4.71933 17.2553C4.60889 17.0596 4.55868 16.8397 4.57415 16.6195C4.58963 16.3993 4.67019 16.1872 4.80708 16.0064L13.9494 3.94289C14.1087 3.73273 14.3365 3.57497 14.5995 3.49253C14.8626 3.4101 15.1472 3.40728 15.4121 3.48448" fill="white"/>
        </svg>
      </div>

      <!-- 텍스트 -->
      <span class="logo-text">POKERUN</span>
    </div>

    <div class="top-right">
      <!-- 설정 아이콘 -->
      <button class="icon-btn">
        ⚙️
      </button>

      <!-- 토글 스위치 -->
      <label class="toggle">
        <input type="checkbox">
        <span class="slider"></span>
      </label>
    </div>
  </header>



  <!-- 메인 영역 -->
  <main class="flex-1 bg-white overflow-hidden">
    <!-- SPA 컨테이너 -->
    <div id="app-pages" class="h-full overflow-y-auto pb-16">

      <!-- ✅ HOME 탭 -->
      <section id="page-home" class="h-full px-4 pt-4">
        <!-- 월간 달력 카드 -->
        <div class="w-full rounded-[12px] border border-black bg-[#e5e5e5] aspect-[4/3] flex items-center justify-center mb-4">
          <span class="font-bold text-lg">월간 달력</span>
        </div>

        <!-- 친구 카드 1 -->
        <article class="rounded-[12px] border border-black p-4 mb-4">
          <div class="flex justify-between mb-2 text-sm font-semibold">
            <span>친구1</span>
            <div class="text-right leading-tight">
              <div>날짜</div>
              <div>시간</div>
            </div>
          </div>
          <div class="flex items-end justify-between">
            <div>
              <div class="flex items-baseline gap-1">
                <span class="text-4xl font-black leading-none">4.12</span>
                <span class="font-extrabold text-base leading-none">KM</span>
              </div>
              <div class="mt-1 text-xs">
                <div class="flex gap-2">
                  <span class="font-semibold">3'45"</span>
                  <span class="text-gray-600">평균 페이스</span>
                </div>
                <div class="flex gap-2">
                  <span class="font-semibold">5:34</span>
                  <span class="text-gray-600">시간</span>
                </div>
                <div class="flex gap-2">
                  <span class="font-semibold">179</span>
                  <span class="text-gray-600">케이던스</span>
                </div>
              </div>
            </div>
            <!-- 작은 polyline 썸네일 (추후 캔버스/SVG로 대체) -->
            <div class="w-20 h-20 rounded-[12px] border border-black bg-black/5 flex items-center justify-center">
              <span class="text-[10px] text-gray-500">경로</span>
            </div>
          </div>
        </article>

        <!-- 친구 카드 2 (구조만 동일, 나중에 JS로 렌더링) -->
        <article class="rounded-[12px] border border-black p-4 mb-4">
          <div class="flex justify-between mb-2 text-sm font-semibold">
            <span>친구2</span>
            <div class="text-right leading-tight">
              <div>날짜</div>
              <div>시간</div>
            </div>
          </div>
          <div class="flex items-end justify-between">
            <div>
              <div class="flex items-baseline gap-1">
                <span class="text-4xl font-black leading-none">4.12</span>
                <span class="font-extrabold text-base leading-none">KM</span>
              </div>
              <div class="mt-1 text-xs">
                <div class="flex gap-2">
                  <span class="font-semibold">3'45"</span>
                  <span class="text-gray-600">평균 페이스</span>
                </div>
                <div class="flex gap-2">
                  <span class="font-semibold">5:34</span>
                  <span class="text-gray-600">시간</span>
                </div>
                <div class="flex gap-2">
                  <span class="font-semibold">179</span>
                  <span class="text-gray-600">케이던스</span>
                </div>
              </div>
            </div>
            <div class="w-20 h-20 rounded-[12px] border border-black bg-black/5 flex items-center justify-center">
              <span class="text-[10px] text-gray-500">경로</span>
            </div>
          </div>
        </article>
      </section>

      <!-- ✅ RUN 탭 -->
      <section id="page-run" class="hidden h-full px-4 pt-6">
        <!-- 상단 거리 -->
        <div class="text-center mb-4">
          <div class="flex justify-center items-baseline gap-1">
            <span id="run-distance" class="text-5xl font-black leading-none">4.12</span>
            <span class="text-xl font-black leading-none">KM</span>
          </div>
        </div>

        <!-- 6개 지표 그리드 -->
        <div class="grid grid-cols-3 gap-y-3 text-center text-xs mb-4">
          <div>
            <div class="font-semibold text-sm">3'45"</div>
            <div class="text-gray-600">평균 페이스</div>
          </div>
          <div>
            <div class="font-semibold text-sm">12.7</div>
            <div class="text-gray-600">평균 속도</div>
          </div>
          <div>
            <div class="font-semibold text-sm">179</div>
            <div class="text-gray-600">케이던스</div>
          </div>
          <div>
            <div class="font-semibold text-sm">5:34</div>
            <div class="text-gray-600">시간</div>
          </div>
          <div>
            <div class="font-semibold text-sm">13.2</div>
            <div class="text-gray-600">현재 속도</div>
          </div>
          <div>
            <div class="font-semibold text-sm">186</div>
            <div class="text-gray-600">칼로리</div>
          </div>
        </div>

        <!-- 지도 wrapper (RUN용) -->
        <div id="map-container-run" class="w-full rounded-[12px] border border-black bg-[#e5e5e5] aspect-[4/3] mb-4 overflow-hidden">
          <!-- 공유 지도 엘리먼트: JS에서 ROUTE와 이동시키며 사용 -->
          <div id="shared-map" class="w-full h-full"></div>
        </div>

        <!-- START / PAUSE / STOP 버튼 영역 -->
        <div class="mt-2 mb-4 flex items-center justify-center">
          <button id="btn-run-start" class="w-44 h-12 rounded-[12px] bg-blue-500 text-white font-extrabold tracking-[0.2em] text-base">
            START
          </button>

          <!-- 나중에 JS로 토글되는 버튼들 (초기에는 hidden) -->
          <button id="btn-run-pause" class="hidden w-24 h-12 rounded-[12px] bg-yellow-400 text-black font-extrabold mr-2">
            PAUSE
          </button>
          <button id="btn-run-stop" class="hidden w-24 h-12 rounded-[12px] bg-red-500 text-white font-extrabold">
            STOP
          </button>
        </div>
      </section>

      <!-- ✅ ROUTE(코스) 탭 -->
      <section id="page-route" class="hidden h-full px-4 pt-4">
        <!-- 목표 거리 -->
        <div class="flex items-center justify-center gap-2 mb-2">
          <button id="btn-route-distance-minus" class="w-8 h-8 rounded-full border border-black flex items-center justify-center text-lg font-bold">-</button>
          <div class="text-center">
            <div class="flex items-baseline gap-1">
              <button id="route-distance-display" class="text-4xl font-black leading-none">
                5.00
              </button>
              <span class="text-lg font-black leading-none">KM</span>
            </div>
            <div class="text-xs text-gray-600 mt-1 text-right pr-1">
              목표거리
            </div>
          </div>
          <button id="btn-route-distance-plus" class="w-8 h-8 rounded-full border border-black flex items-center justify-center text-lg font-bold">+</button>
        </div>

        <!-- 모드 선택 + GPS -->
        <div class="flex items-center justify-between text-sm mb-3">
          <div class="flex items-center gap-3">
            <label class="flex items-center gap-1">
              <input type="radio" name="course-mode" value="loop" checked class="accent-black" />
              <span>왕복</span>
            </label>
            <label class="flex items-center gap-1">
              <input type="radio" name="course-mode" value="one-way" class="accent-black" />
              <span>편도</span>
            </label>
            <label class="flex items-center gap-1">
              <input type="radio" name="course-mode" value="recommend" class="accent-black" />
              <span>추천</span>
            </label>
          </div>
          <button id="btn-my-location" class="flex items-center gap-1 text-sm">
            <span class="w-4 h-4 rounded-full border border-black flex items-center justify-center text-[10px]">📍</span>
            <span>GPS</span>
          </button>
        </div>

        <!-- 출발지/도착지 입력 -->
        <div class="space-y-2 mb-3">
          <div>
            <input id="start-input" type="text" placeholder="출발지 입력창"
                   class="w-full h-10 rounded-[12px] border border-black px-3 text-sm" />
            <ul id="start-suggestions" class="hidden mt-1 rounded-[12px] border border-black bg-white max-h-40 overflow-y-auto text-sm"></ul>
          </div>
          <div>
            <input id="end-input" type="text" placeholder="도착지 입력창"
                   class="w-full h-10 rounded-[12px] border border-black px-3 text-sm" />
            <ul id="end-suggestions" class="hidden mt-1 rounded-[12px] border border-black bg-white max-h-40 overflow-y-auto text-sm"></ul>
          </div>
        </div>

        <!-- 검색거리 / 실제거리 -->
        <div class="flex justify-between text-xs mb-2">
          <div class="flex flex-col">
            <span class="text-gray-600 mb-[2px]">검색 거리</span>
            <span id="route-search-distance" class="font-semibold">0.00 km</span>
          </div>
          <div class="flex flex-col text-right">
            <span class="text-gray-600 mb-[2px]">실제 거리</span>
            <span id="route-real-distance" class="font-semibold">0.00 km</span>
          </div>
        </div>

        <!-- 코스 생성 버튼 -->
        <div class="mb-2">
          <button id="btn-generate-course" class="w-full h-10 rounded-[12px] bg-blue-500 text-white font-semibold text-sm">
            코스 생성하기
          </button>
        </div>

        <!-- 지도 wrapper (ROUTE용) -->
        <div id="map-container-route" class="w-full rounded-[12px] border border-black bg-[#e5e5e5] aspect-[4/3] mb-3 overflow-hidden">
          <!-- JS에서 shared-map을 여기 안으로 이동시켜서 사용 -->
        </div>

        <!-- 상태 메시지 -->
        <p id="status-summary" class="text-xs text-gray-700 mb-2 h-4"></p>

        <!-- 다운로드 / START / 업로드 -->
        <div class="flex items-center justify-between mb-3">
          <button id="btn-route-load" class="w-10 h-10 rounded-[12px] border border-black flex items-center justify-center text-lg">
            ⬇
          </button>
          <button id="btn-route-start" class="flex-1 mx-4 h-10 rounded-[12px] bg-blue-500 text-white font-extrabold tracking-[0.2em]">
            START
          </button>
          <button id="btn-route-save" class="w-10 h-10 rounded-[12px] border border-black flex items-center justify-center text-lg">
            ⬆
          </button>
        </div>
      </section>

      <!-- ✅ RECORDS(기록) 탭 -->
      <section id="page-records" class="hidden h-full px-4 pt-4">
        <!-- 상단 통계 그래프 박스 -->
        <div class="w-full rounded-[12px] border border-black bg-[#e5e5e5] aspect-[4/3] flex items-center justify-center mb-4">
          <span class="font-bold text-base text-center leading-snug">
            일주일 키로 수<br />막대 그래프 통계창
          </span>
        </div>

        <!-- 기록 리스트 (템플릿) -->
        <div id="record-list" class="space-y-3 pb-4">
          <!-- 개별 기록 아이템 예시 -->
          <article class="record-item rounded-[12px] border border-black p-3 flex items-center justify-between">
            <div class="flex flex-col text-xs">
              <span class="font-semibold">날짜</span>
              <span>시간</span>
              <span class="mt-1 text-gray-600 text-[11px]">3'45" / 4.12km</span>
            </div>
            <div class="flex-1 mx-3 text-right">
              <div class="font-semibold text-base">4.12km</div>
              <div class="text-[11px] text-gray-600">평균 페이스 3'45"</div>
            </div>
            <div class="w-12 h-12 rounded-[10px] border border-black bg-black/5 flex items-center justify-center">
              <span class="text-[9px] text-gray-500">경로</span>
            </div>
          </article>
        </div>
      </section>

      <!-- ✅ PROFILE(설정) 탭 -->
      <section id="page-profile" class="hidden h-full px-4 pt-10 flex flex-col items-center">
        <div class="w-28 h-28 rounded-full bg-black mb-8"></div>
        <button id="btn-reset-all" class="w-20 h-20 rounded-[18px] border border-black flex items-center justify-center bg-black text-white mb-2">
          <!-- 휴지통 아이콘 -->
          <div class="w-9 h-9 border-[3px] border-white border-t-0 relative">
            <div class="absolute -top-3 left-1/2 -translate-x-1/2 w-8 h-[6px] bg-white rounded-[3px]"></div>
          </div>
        </button>
        <p class="text-xs text-gray-600 mt-2 text-center">
          휴지통을 누르면<br/>저장된 로컬 데이터가 모두 초기화됩니다.
        </p>
      </section>
    </div>
  </main>

  <!-- ✅ 하단 네비게이션 바 -->
<nav class="bottombar">

  <div class="tab-item">
    <span class="tab-icon">👟</span>
    <span class="tab-text">러닝</span>
  </div>

  <div class="tab-item">
    <span class="tab-icon">🗺️</span>
    <span class="tab-text">코스</span>
  </div>

  <!-- 가운데 몬스터볼은 svg (img) 그대로 -->
  <div class="tab-center">
    <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
      <circle cx="32" cy="32" r="32" fill="white"/>
      <path d="M57.5 29C56 20 56 21.5 52.5 15.3726C46.4989 9.37142 40.5 6.5 32 6C23.5 6.5 18.5 9 12 15.3726C9.99998 18.5 6.5 23 6.5 29H20L24 22.5L32 19.5L40 22.5L44 29H57.5Z" fill="#FF0000"/>
      <path d="M32 0C36.2023 0 40.3635 0.827705 44.2459 2.43586C48.1283 4.04401 51.6559 6.40111 54.6274 9.37258C57.5989 12.3441 59.956 15.8717 61.5641 19.7541C63.1723 23.6365 64 27.7977 64 32C64 40.4869 60.6286 48.6263 54.6274 54.6274C48.6263 60.6286 40.4869 64 32 64C27.7977 64 23.6365 63.1723 19.7541 61.5641C15.8717 59.956 12.3441 57.5989 9.37258 54.6274C3.37142 48.6263 0 40.4869 0 32C0 23.5131 3.37142 15.3737 9.37258 9.37258C15.3737 3.37142 23.5131 0 32 0ZM32 6.4C18.944 6.4 8.16 16.16 6.592 28.8H19.616C21.024 23.264 26.048 19.2 32 19.2C37.952 19.2 42.976 23.264 44.384 28.8H57.408C55.84 16.16 45.056 6.4 32 6.4ZM32 57.6C45.056 57.6 55.84 47.84 57.408 35.2H44.384C42.976 40.736 37.952 44.8 32 44.8C26.048 44.8 21.024 40.736 19.616 35.2H6.592C8.16 47.84 18.944 57.6 32 57.6ZM32 25.6C30.3026 25.6 28.6748 26.2743 27.4745 27.4745C26.2743 28.6748 25.6 30.3026 25.6 32C25.6 33.6974 26.2743 35.3252 27.4745 36.5255C28.6748 37.7257 30.3026 38.4 32 38.4C33.6974 38.4 35.3252 37.7257 36.5255 36.5255C37.7257 35.3252 38.4 33.6974 38.4 32C38.4 30.3026 37.7257 28.6748 36.5255 27.4745C35.3252 26.2743 33.6974 25.6 32 25.6Z" fill="black"/>
    </svg>

  </div>

  <div class="tab-item">
    <span class="tab-icon">📅</span>
    <span class="tab-text">기록</span>
  </div>

  <div class="tab-item">
    <span class="tab-icon">👤</span>
    <span class="tab-text">설정</span>
  </div>

</nav>

  <!-- ✅ 기록 상세 모달 -->
  <div id="modal-record-detail" class="fixed inset-0 bg-black/40 flex items-center justify-center z-20 hidden">
    <div class="w-[340px] rounded-[18px] bg-white border border-black p-4">
      <div class="flex justify-between items-start mb-3">
        <div class="font-semibold text-base">
          <div>날짜</div>
          <div>시간</div>
        </div>
        <button id="btn-modal-record-close" class="w-6 h-6 flex items-center justify-center text-lg">✕</button>
      </div>

      <div class="w-full rounded-[12px] border border-black bg-[#e5e5e5] aspect-[4/3] flex items-center justify-center mb-4">
        <span class="text-sm text-gray-700">지도</span>
      </div>

      <div class="text-center mb-4">
        <div class="flex justify-center items-baseline gap-1">
          <span id="detail-distance" class="text-4xl font-black leading-none">4.12</span>
          <span class="text-lg font-black">KM</span>
        </div>
      </div>

      <!-- 6개 지표 -->
      <div class="grid grid-cols-3 gap-y-3 text-center text-xs mb-4">
        <div>
          <div id="detail-pace" class="font-semibold text-sm">3'45"</div>
          <div class="text-gray-600">평균 페이스</div>
        </div>
        <div>
          <div id="detail-avg-speed" class="font-semibold text-sm">12.7</div>
          <div class="text-gray-600">평균 속도</div>
        </div>
        <div>
          <div id="detail-cadence" class="font-semibold text-sm">179</div>
          <div class="text-gray-600">케이던스</div>
        </div>
        <div>
          <div id="detail-time" class="font-semibold text-sm">5:34</div>
          <div class="text-gray-600">시간</div>
        </div>
        <div>
          <div id="detail-current-speed" class="font-semibold text-sm">13.2</div>
          <div class="text-gray-600">현재 속도</div>
        </div>
        <div>
          <div id="detail-calories" class="font-semibold text-sm">186</div>
          <div class="text-gray-600">칼로리</div>
        </div>
      </div>

      <!-- 삭제/공유 버튼 -->
      <div class="flex gap-3">
        <button id="btn-record-delete" class="flex-1 h-10 rounded-[12px] bg-red-500 text-white font-semibold">
          삭제
        </button>
        <button id="btn-record-share" class="flex-1 h-10 rounded-[12px] bg-green-500 text-white font-semibold">
          공유
        </button>
      </div>
    </div>
  </div>

  <!-- ✅ 코스 저장/불러오기 모달 (틀만 잡아둠) -->
  <div id="modal-route-list" class="fixed inset-0 bg-black/40 flex items-center justify-center z-20 hidden">
    <div class="w-[320px] max-h-[480px] rounded-[18px] bg-white border border-black p-4 flex flex-col">
      <div class="flex justify-between items-center mb-3">
        <span class="font-semibold">저장된 코스</span>
        <button id="btn-modal-route-list-close" class="w-6 h-6 flex items-center justify-center text-lg">✕</button>
      </div>
      <div id="route-list" class="flex-1 overflow-y-auto space-y-2 text-sm">
        <!-- 코스 아이템 템플릿: JS로 렌더링 -->
      </div>
    </div>
  </div>

  <div id="modal-route-save" class="fixed inset-0 bg-black/40 flex items-center justify-center z-20 hidden">
    <div class="w-[320px] rounded-[18px] bg-white border border-black p-4">
      <div class="flex justify-between items-center mb-3">
        <span class="font-semibold">코스 저장</span>
        <button id="btn-modal-route-save-close" class="w-6 h-6 flex items-center justify-center text-lg">✕</button>
      </div>
      <div class="mb-3">
        <label class="block text-xs mb-1">코스 이름</label>
        <input id="route-save-name" type="text" class="w-full h-10 rounded-[12px] border border-black px-3 text-sm" />
      </div>
      <button id="btn-route-save-confirm" class="w-full h-10 rounded-[12px] bg-blue-500 text-white font-semibold text-sm">
        저장하기
      </button>
    </div>
  </div>
  
  <script type="module" src="run.js"></script>
</body>
</html>
