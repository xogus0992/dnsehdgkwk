<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>POKE RUN: ACCESS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:ital,wght@0,400;0,700;1,900&family=Inter:wght@400;700;900&family=Noto+Sans+KR:wght@400;700;900&display=swap" rel="stylesheet">
    
    <style>
        /* 1. ê¸°ë³¸ í…Œë§ˆ (ë‹¤í¬ ëª¨ë“œ) ë³€ìˆ˜ */
        :root { 
            --volt: #ccff00;         /* ë„¤ì˜¨ ê·¸ë¦° */
            --bg-main: #000000;       /* ê²€ì • */
            --bg-card: #111111;       /* ì§™ì€ íšŒìƒ‰ ì¹´ë“œ */
            --text-main: #ffffff;     /* í°ìƒ‰ í…ìŠ¤íŠ¸ */
            --border-color: #333333;  /* ê²½ê³„ì„  */
            --text-sub: #9ca3af;     /* ì„œë¸Œ í…ìŠ¤íŠ¸ */
        }
        
        /* 2. âšª í™”ì´íŠ¸ ëª¨ë“œ ë””ìì¸ ë³€ìˆ˜ ì ìš© */
        [data-theme="light"] {
            --volt: #2563eb;          /* ì„ ëª…í•œ íŒŒë‘ (ê°•ì¡°ìƒ‰) */
            --bg-main: #f0f4f8;       /* ë°ì€ ë°°ê²½ */
            --bg-card: #ffffff;       /* í°ìƒ‰ ì¹´ë“œ */
            --text-main: #1a1a1a;     /* ê²€ì • í…ìŠ¤íŠ¸ */
            --border-color: #cccccc;  /* ë°ì€ ê²½ê³„ì„  */
            --text-sub: #4b5563;      /* ì–´ë‘ìš´ ì„œë¸Œ í…ìŠ¤íŠ¸ */
        }

        /* 3. í…Œë§ˆ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ìŠ¤íƒ€ì¼ ìˆ˜ì • */
        body { 
            font-family: 'Inter', 'Noto Sans KR', sans-serif; 
            background-color: var(--bg-main); 
            color: var(--text-main); 
            overflow: hidden; 
            transition: background-color 0.3s, color 0.3s; /* ì „í™˜ íš¨ê³¼ ì¶”ê°€ */
        }
        .font-sport { font-family: 'Chakra Petch', sans-serif; }
        
        /* ëª¨ë‹¬ (íŒì—…ì°½) */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(0,0,0,0.5); z-index: 50; display: none; 
            justify-content: center; align-items: center; padding: 20px; 
            backdrop-filter: blur(5px);
        }
        .modal-content {
            background: var(--bg-card); /* ë³€ìˆ˜ ì‚¬ìš© */
            border: 1px solid var(--border-color); /* ë³€ìˆ˜ ì‚¬ìš© */
            color: var(--text-main); /* ë³€ìˆ˜ ì‚¬ìš© */
            border-radius: 16px; width: 100%; max-width: 420px; max-height: 90vh; 
            overflow-y: auto; padding: 24px; position: relative;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
            transition: background 0.3s, color 0.3s, border-color 0.3s;
        }

        /* ì…ë ¥ í•„ë“œ ìŠ¤íƒ€ì¼ */
        .input-group { margin-bottom: 10px; position: relative; }
        .input-dark {
            width: 100%; background: var(--bg-card); /* ë³€ìˆ˜ ì‚¬ìš© */
            border: 1px solid var(--border-color); /* ë³€ìˆ˜ ì‚¬ìš© */
            color: var(--text-main); /* ë³€ìˆ˜ ì‚¬ìš© */
            padding: 8px 10px; border-radius: 6px; outline: none; transition: 0.2s; font-size: 13px;
        }
        .input-dark:focus { border-color: var(--volt); }
        .input-error { border-color: #ef4444 !important; }
        .input-success { border-color: #22c55e !important; }

        /* ì¤‘ë³µí™•ì¸ ë²„íŠ¼ */
        .btn-check {
            position: absolute; right: 5px; top: 26px;
            background: var(--border-color); /* ë³€ìˆ˜ ì‚¬ìš© */
            color: var(--text-sub); /* ë³€ìˆ˜ ì‚¬ìš© */
            padding: 4px 8px; border-radius: 4px; font-size: 11px; cursor: pointer; border: 1px solid var(--border-color);
        }
        .btn-check:hover { background: var(--volt); color: var(--bg-main); border-color: var(--volt); }
        
        .msg-validate { font-size: 11px; margin-top: 2px; display: none; font-weight: bold; }
        
        /* íƒ­ ë²„íŠ¼ */
        .tab-btn { flex: 1; padding: 10px; text-align: center; cursor: pointer; border-bottom: 2px solid var(--border-color); color: var(--text-sub); }
        .tab-btn.active { border-color: var(--volt); color: var(--text-main); font-weight: bold; }

        /* ì°¾ê¸° ê²°ê³¼ ë°•ìŠ¤ (í•˜ë“œì½”ë”©ëœ ìƒ‰ìƒë„ ë³€ìˆ˜ë¡œ ëŒ€ì²´) */
        .find-result-box {
            background-color: var(--bg-card);
            color: var(--text-main);
            border-color: var(--border-color) !important;
        }

        select.input-dark { 
            appearance: none; 
            /* í™”ì‚´í‘œ ìƒ‰ìƒë„ í…Œë§ˆì— ë”°ë¼ ë³€ê²½ë˜ë„ë¡ ìˆ˜ì • */
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23333333' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e"); 
            background-repeat: no-repeat; 
            background-position: right 0.5rem center; 
            background-size: 0.8em; 
            padding-right: 2rem;
        }
        [data-theme="light"] select.input-dark {
            /* í™”ì´íŠ¸ ëª¨ë“œì¼ ë•Œ í™”ì‚´í‘œë¥¼ ê²€ì€ìƒ‰ìœ¼ë¡œ ë³€ê²½ */
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='black' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
        }
    </style>

    <script type="module">
        // Firebase ê¸°ëŠ¥ì€ ê·¸ëŒ€ë¡œ ìœ ì§€ (ê±´ë“œë¦¬ì§€ ì•ŠìŒ)
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        import { getDatabase, ref, set, get, query, orderByChild, equalTo } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyAbHwLLXIH8rBQ8gNMVqE5SE208aIbfFZ0",
            authDomain: "pokbattle.firebaseapp.com",
            databaseURL: "https://pokbattle-default-rtdb.firebaseio.com",
            projectId: "pokbattle",
            storageBucket: "pokbattle.firebasestorage.app",
            messagingSenderId: "445300582484",
            appId: "1:445300582484:web:f8f1373a3bbf643face5c1",
            measurementId: "G-PNXLYD0D0X"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getDatabase(app);

        let isIdChecked = false;
        let isNickChecked = false;

        // --- âš™ï¸ í…Œë§ˆ ì „í™˜ ê¸°ëŠ¥ (black white.htmlì—ì„œ ì¶”ì¶œ) ---
        function updateThemeIcon(isLight) {
            const icon = document.getElementById('theme-icon');
            // í™”ì´íŠ¸ ëª¨ë“œì¼ ë•Œ ë‹¬(ğŸŒ™) ì•„ì´ì½˜, ë‹¤í¬ ëª¨ë“œì¼ ë•Œ í•´(ğŸ”†) ì•„ì´ì½˜ í‘œì‹œ
            if (icon) icon.innerText = isLight ? 'ğŸŒ™' : 'ğŸ”†'; 
        }

        function loadTheme() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'light') {
                document.documentElement.setAttribute('data-theme', 'light');
                updateThemeIcon(true);
            } else {
                // ê¸°ë³¸ê°’ì€ dark
                updateThemeIcon(false);
            }
            // ì´ˆê¸° ë¡œë“œ ì‹œ í˜„ì¬ í…Œë§ˆì— ë§ê²Œ ë°°ê²½ ì˜¤ë²„ë ˆì´ë¥¼ ì„¤ì •
            updateBackgroundOverlay(savedTheme === 'light');
        }

        function updateBackgroundOverlay(isLight) {
             const overlay = document.getElementById('bg-overlay');
             if (overlay) {
                 if (isLight) {
                     // í™”ì´íŠ¸ ëª¨ë“œ ë°°ê²½
                     overlay.className = "absolute inset-0 bg-gradient-to-b from-white/50 via-white/90 to-white";
                 } else {
                     // ë‹¤í¬ ëª¨ë“œ ë°°ê²½ (ê¸°ì¡´ ê°’)
                     overlay.className = "absolute inset-0 bg-gradient-to-b from-black/50 via-black/90 to-black";
                 }
             }
        }

        window.toggleTheme = () => {
            const isLight = document.documentElement.getAttribute('data-theme') === 'light';
            if (isLight) {
                // ë‹¤í¬ ëª¨ë“œë¡œ ì „í™˜
                document.documentElement.removeAttribute('data-theme');
                localStorage.setItem('theme', 'dark');
                updateThemeIcon(false);
                updateBackgroundOverlay(false);
            } else {
                // í™”ì´íŠ¸ ëª¨ë“œë¡œ ì „í™˜
                document.documentElement.setAttribute('data-theme', 'light');
                localStorage.setItem('theme', 'light');
                updateThemeIcon(true);
                updateBackgroundOverlay(true);
            }
        };
        // ----------------------------------------------------


        // --- ë¡œê·¸ì¸ ë¡œì§ ---
        window.handleLogin = async () => {
            const email = document.getElementById('login-email').value.trim();
            const pw = document.getElementById('login-pw').value;
            if(!email || !pw) return alert("ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
            try {
                // ë¡œê·¸ì¸ ì‹œë„ -> ì„±ê³µ ì‹œ onAuthStateChangedê°€ ë°˜ì‘í•¨
                await signInWithEmailAndPassword(auth, email, pw);
            } catch(e) {
                alert("ë¡œê·¸ì¸ ì‹¤íŒ¨!\n" + e.message);
            }
        };

        // --- ìƒíƒœ ë³€í™” ê°ì§€ (í•µì‹¬ ë³€ê²½ ë¶€ë¶„) ---
        onAuthStateChanged(auth, (user) => {
            if (user) {
                // [ë³€ê²½] ë¡œê·¸ì¸ ì„±ê³µ ì‹œ ì„±ê³µ í™”ë©´ ì—†ì´ ì¦‰ì‹œ ì´ë™
                window.location.href = "log.html";
            } else {
                // ë¡œê·¸ì¸ì´ ì•ˆ ëœ ìƒíƒœë©´ ë¡œê·¸ì¸ í™”ë©´ í‘œì‹œ
                document.getElementById('login-screen').style.display = 'flex';
            }
        });

        // --- íšŒì›ê°€ì… ë° ì°¾ê¸° ê¸°ëŠ¥ (ê¸°ì¡´ ìœ ì§€) ---
        window.checkDuplicateID = async () => {
            const idInput = document.getElementById('reg-custom-id');
            const val = idInput.value.trim();
            const msg = document.getElementById('msg-id');
            
            if(val.length < 4) { alert("ì•„ì´ë””ëŠ” 4ê¸€ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤."); idInput.focus(); return; }
            
            try {
                const q = query(ref(db, 'users'), orderByChild('userId'), equalTo(val));
                const snap = await get(q);
                msg.style.display = 'block';
                if(snap.exists()) {
                    msg.innerText = "ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì•„ì´ë””ì…ë‹ˆë‹¤."; msg.style.color = "#ef4444"; isIdChecked = false;
                } else {
                    msg.innerText = "ì‚¬ìš© ê°€ëŠ¥í•œ ì•„ì´ë””ì…ë‹ˆë‹¤."; msg.style.color = "#22c55e"; isIdChecked = true;
                }
            } catch(e) {
                if(e.message.includes("Index not defined")) {
                    alert("âš ï¸ ê°œë°œì ì„¤ì • í•„ìš”: íŒŒì´ì–´ë² ì´ìŠ¤ ê·œì¹™(Rules)ì— .indexOnì„ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.");
                } else {
                    alert("ì˜¤ë¥˜: " + e.message);
                }
            }
        };

        window.checkDuplicateNick = async () => {
            const val = document.getElementById('reg-nick').value.trim();
            const msg = document.getElementById('msg-nick');
            if(val.length < 2) { alert("2ê¸€ì ì´ìƒ ì…ë ¥í•˜ì„¸ìš”."); return; }

            const q = query(ref(db, 'users'), orderByChild('nickname'), equalTo(val));
            const snap = await get(q);
            msg.style.display = 'block';
            if(snap.exists()) {
                msg.innerText = "ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ë‹‰ë„¤ì„ì…ë‹ˆë‹¤."; msg.style.color = "#ef4444"; isNickChecked = false;
            } else {
                msg.innerText = "ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤."; msg.style.color = "#22c55e"; isNickChecked = true;
            }
        };

        window.checkPwMatch = () => {
            const pw = document.getElementById('reg-pw').value;
            const pw2 = document.getElementById('reg-pw2').value;
            const msg = document.getElementById('msg-pw');
            if(pw2 === "") { msg.style.display = 'none'; return; }
            msg.style.display = 'block';
            if(pw === pw2) {
                msg.innerText = "ì¼ì¹˜í•©ë‹ˆë‹¤."; msg.style.color = "#22c55e";
            } else {
                msg.innerText = "ë¶ˆì¼ì¹˜í•©ë‹ˆë‹¤."; msg.style.color = "#ef4444";
            }
        };

        window.handleSignup = async () => {
            const email = document.getElementById('reg-email').value.trim();
            const customId = document.getElementById('reg-custom-id').value.trim();
            const nick = document.getElementById('reg-nick').value.trim();
            const pw = document.getElementById('reg-pw').value;
            const pw2 = document.getElementById('reg-pw2').value;
            const name = document.getElementById('reg-name').value;
            const phone = document.getElementById('reg-phone').value;
            
            const y = document.getElementById('reg-year').value;
            const m = document.getElementById('reg-month').value;
            const d = document.getElementById('reg-day').value;
            const dob = `${y}-${m}-${d}`;

            if(!email || !pw || !name || !phone) return alert("í•„ìˆ˜ ì •ë³´ë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
            if(!customId) return alert("ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
            if(!isIdChecked) return alert("ì•„ì´ë”” ì¤‘ë³µí™•ì¸ í•„ìˆ˜.");
            if(!isNickChecked) return alert("ë‹‰ë„¤ì„ ì¤‘ë³µí™•ì¸ í•„ìˆ˜.");
            if(pw !== pw2) return alert("ë¹„ë°€ë²ˆí˜¸ ë¶ˆì¼ì¹˜.");

            try {
                const cred = await createUserWithEmailAndPassword(auth, email, pw);
                await set(ref(db, 'users/' + cred.user.uid), {
                    userId: customId,
                    nickname: nick,
                    email: email,
                    realName: name,
                    phone: phone,
                    dob: dob,
                    password: pw,
                    avatar: `https://api.dicebear.com/7.x/avataaars/svg?seed=${nick}`
                });
                alert("ê°€ì… ì™„ë£Œ! ìë™ ë¡œê·¸ì¸ë©ë‹ˆë‹¤.");
                closeModal('modal-signup');
            } catch(e) {
                alert("ê°€ì… ì˜¤ë¥˜: " + e.message);
            }
        };

        window.findID = async () => {
            const email = document.getElementById('find-id-email').value.trim();
            const resultBox = document.getElementById('find-result-text-id');
            
            if(!email) return alert("ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”.");
            resultBox.innerHTML = "í™•ì¸ ì¤‘...";

            try {
                const q = query(ref(db, 'users'), orderByChild('email'), equalTo(email));
                const snap = await get(q);
                
                if(snap.exists()) {
                    const data = Object.values(snap.val())[0];
                    if (data.userId) {
                        resultBox.innerHTML = `
                            <div class="text-center">
                                <p class="text-sm text-gray-400 mb-2">íšŒì›ë‹˜ì˜ ì•„ì´ë””ëŠ”</p>
                                <b class="text-[var(--volt)] text-2xl block mb-6">${data.userId}</b>
                                <button onclick="closeModal('modal-find')" class="w-full bg-[var(--volt)] text-white font-bold py-3 rounded-xl hover:bg-black transition-colors">
                                    ë¡œê·¸ì¸ í•˜ëŸ¬ ê°€ê¸°
                                </button>
                            </div>
                        `;
                    } else {
                        resultBox.innerHTML = `<span style="color:#ef4444">ì´ ê³„ì •ì€ ì˜¤ë˜ë˜ì–´ ì•„ì´ë”” ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.<br>ìƒˆë¡œ ê°€ì…í•´ì£¼ì„¸ìš”.</span>`;
                    }
                } else {
                    resultBox.innerHTML = `<span style="color:#ef4444">ê°€ì…ëœ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.</span>`;
                }
            } catch(e) {
                handleFindError(e, resultBox);
            }
        };

        window.findPW = async () => {
            const targetId = document.getElementById('find-pw-id').value.trim();
            const targetEmail = document.getElementById('find-pw-email').value.trim();
            const resultBox = document.getElementById('find-result-text-pw');

            if(!targetId || !targetEmail) return alert("ëª¨ë‘ ì…ë ¥í•˜ì„¸ìš”.");
            resultBox.innerHTML = "í™•ì¸ ì¤‘...";

            try {
                const q = query(ref(db, 'users'), orderByChild('userId'), equalTo(targetId));
                const snap = await get(q);

                if(snap.exists()) {
                    const data = Object.values(snap.val())[0];
                    if(data.email === targetEmail) {
                        if (data.password) {
                             resultBox.innerHTML = `
                                <div class="text-center">
                                    <p class="text-sm text-gray-400 mb-2">íšŒì›ë‹˜ì˜ ë¹„ë°€ë²ˆí˜¸ëŠ”</p>
                                    <b class="text-[var(--volt)] text-2xl block mb-6">${data.password}</b>
                                    <button onclick="closeModal('modal-find')" class="w-full bg-[var(--volt)] text-white font-bold py-3 rounded-xl hover:bg-black transition-colors">
                                        ë¡œê·¸ì¸ í•˜ëŸ¬ ê°€ê¸°
                                    </button>
                                </div>
                             `;
                        } else {
                             resultBox.innerHTML = `<span style="color:#ef4444">ë¹„ë°€ë²ˆí˜¸ ì •ë³´ê°€ ì†ìƒë˜ì—ˆìŠµë‹ˆë‹¤.</span>`;
                        }
                    } else {
                        resultBox.innerHTML = `<span style="color:#ef4444">ì´ë©”ì¼ ì •ë³´ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</span>`;
                    }
                } else {
                    resultBox.innerHTML = `<span style="color:#ef4444">ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì•„ì´ë””ì…ë‹ˆë‹¤.</span>`;
                }
            } catch(e) {
                handleFindError(e, resultBox);
            }
        };

        function handleFindError(e, box) {
            if(e.message.includes("Index not defined")) {
                box.innerHTML = "<span style='color:red'>DB ì„¤ì • ì˜¤ë¥˜</span>";
                alert("âš ï¸ ì¤‘ìš”: íŒŒì´ì–´ë² ì´ìŠ¤ ì½˜ì†” -> Realtime Database -> [ê·œì¹™] íƒ­ì— .indexOn ì„¤ì •ì„ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.");
            } else {
                box.innerHTML = "ì˜¤ë¥˜ ë°œìƒ";
                alert("ì˜¤ë¥˜: " + e.message);
            }
        }

        window.openModal = (id) => document.getElementById(id).style.display = 'flex';
        window.closeModal = (id) => document.getElementById(id).style.display = 'none';
        window.switchTab = (tab) => {
            document.querySelectorAll('.tab-content').forEach(el => el.style.display = 'none');
            document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
            document.getElementById(`tab-${tab}`).style.display = 'block';
            document.getElementById(`btn-${tab}`).classList.add('active');
        }

        window.onload = () => {
            const y = document.getElementById('reg-year');
            const m = document.getElementById('reg-month');
            const d = document.getElementById('reg-day');
            const curr = new Date().getFullYear();
            for(let i=curr; i>=1950; i--) y.add(new Option(i+'ë…„', i));
            for(let i=1; i<=12; i++) m.add(new Option(i+'ì›”', i));
            for(let i=1; i<=31; i++) d.add(new Option(i+'ì¼', i));
            
            // â­ï¸ í…Œë§ˆ ë¡œë”© ì¶”ê°€
            loadTheme();
        }
    </script>
</head>
<body class="flex justify-center h-screen w-full bg-[var(--bg-main)] text-[var(--text-main)]">

    <div class="w-full max-w-md h-full relative overflow-hidden bg-[var(--bg-main)] shadow-2xl">
        <button onclick="toggleTheme()" class="absolute top-4 right-4 z-20 text-xl text-[var(--text-main)] hover:text-[var(--volt)] transition-colors">
            <span id="theme-icon">ğŸ”†</span>
        </button>
        
        <div class="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1516724562728-afc824a36e84?q=80&w=1000')] bg-cover bg-center opacity-30"></div>
        <div id="bg-overlay" class="absolute inset-0 bg-gradient-to-b from-black/50 via-black/90 to-black"></div>

        <div id="login-screen" class="relative z-10 w-full h-full flex flex-col items-center justify-center p-6 text-center">
            <h1 class="text-5xl font-sport font-black italic tracking-tighter text-[var(--text-main)] mb-2">
                POKE<span class="text-[var(--volt)]">RUN</span>
            </h1>
            <p class="text-[var(--text-sub)] mb-10 text-sm">Run, Battle, and Socialize.</p>

            <div class="w-full space-y-3">
                <input type="email" id="login-email" class="input-dark" placeholder="ì´ë©”ì¼">
                <input type="password" id="login-pw" class="input-dark" placeholder="ë¹„ë°€ë²ˆí˜¸">
                
                <button onclick="handleLogin()" class="w-full bg-[var(--volt)] text-black font-bold py-3.5 rounded-xl hover:opacity-80 transition-opacity mt-2">
                    ë¡œê·¸ì¸
                </button>

                <div class="flex justify-between text-xs text-[var(--text-sub)] px-1 mt-2">
                    <button onclick="openModal('modal-find'); switchTab('id');" class="hover:text-[var(--text-main)]">ì•„ì´ë””/ë¹„ë²ˆ ì°¾ê¸°</button>
                    <button onclick="openModal('modal-signup')" class="hover:text-[var(--volt)]">íšŒì›ê°€ì…</button>
                </div>
            </div>
        </div>
    </div>

    <div id="modal-signup" class="modal-overlay">
        <div class="modal-content scrollbar-hide">
            <div class="flex justify-between items-center mb-6 border-b border-[var(--border-color)] pb-2">
                <h2 class="text-xl font-bold">íšŒì›ê°€ì…</h2>
                <button onclick="closeModal('modal-signup')" class="text-[var(--text-sub)] text-xl">âœ•</button>
            </div>
            
            <div class="space-y-2">
                <div class="input-group">
                    <label class="text-xs text-[var(--text-sub)] block mb-1">ì´ë©”ì¼ (ë¡œê·¸ì¸ìš©)</label>
                    <input type="email" id="reg-email" class="input-dark" placeholder="example@email.com">
                </div>
                
                <div class="input-group">
                    <label class="text-xs text-[var(--text-sub)] block mb-1">ì•„ì´ë””</label>
                    <input type="text" id="reg-custom-id" class="input-dark" placeholder="4ì ì´ìƒ">
                    <button class="btn-check" onclick="checkDuplicateID()">ì¤‘ë³µí™•ì¸</button>
                    <p id="msg-id" class="msg-validate"></p>
                </div>

                <div class="input-group">
                    <label class="text-xs text-[var(--text-sub)] block mb-1">ë‹‰ë„¤ì„</label>
                    <input type="text" id="reg-nick" class="input-dark" placeholder="2ì ì´ìƒ">
                    <button class="btn-check" onclick="checkDuplicateNick()">ì¤‘ë³µí™•ì¸</button>
                    <p id="msg-nick" class="msg-validate"></p>
                </div>

                <div class="input-group">
                    <label class="text-xs text-[var(--text-sub)] block mb-1">ë¹„ë°€ë²ˆí˜¸</label>
                    <input type="password" id="reg-pw" class="input-dark" placeholder="6ìë¦¬ ì´ìƒ" oninput="checkPwMatch()">
                </div>

                <div class="input-group">
                    <label class="text-xs text-[var(--text-sub)] block mb-1">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
                    <input type="password" id="reg-pw2" class="input-dark" placeholder="ì¬ì…ë ¥" oninput="checkPwMatch()">
                    <p id="msg-pw" class="msg-validate"></p>
                </div>

                <div class="input-group">
                    <label class="text-xs text-[var(--text-sub)] block mb-1">ìƒë…„ì›”ì¼</label>
                    <div class="flex gap-2">
                        <select id="reg-year" class="input-dark w-full"></select>
                        <select id="reg-month" class="input-dark w-full"></select>
                        <select id="reg-day" class="input-dark w-full"></select>
                    </div>
                </div>

                <div class="grid grid-cols-2 gap-2">
                    <div class="input-group">
                        <label class="text-xs text-[var(--text-sub)] block mb-1">ì´ë¦„</label>
                        <input type="text" id="reg-name" class="input-dark">
                    </div>
                    <div class="input-group">
                        <label class="text-xs text-[var(--text-sub)] block mb-1">ì „í™”ë²ˆí˜¸</label>
                        <input type="text" id="reg-phone" class="input-dark">
                    </div>
                </div>

                <button onclick="handleSignup()" class="w-full bg-[var(--volt)] text-black font-bold py-3 rounded-xl mt-2">ê°€ì… ì™„ë£Œ</button>
            </div>
        </div>
    </div>

    <div id="modal-find" class="modal-overlay">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-xl font-bold">ê³„ì • ì°¾ê¸°</h2>
                <button onclick="closeModal('modal-find')" class="text-[var(--text-sub)] text-xl">âœ•</button>
            </div>

            <div class="flex mb-4">
                <div id="btn-id" class="tab-btn active" onclick="switchTab('id')">ì•„ì´ë”” ì°¾ê¸°</div>
                <div id="btn-pw" class="tab-btn" onclick="switchTab('pw')">ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°</div>
            </div>

            <div id="tab-id" class="tab-content">
                <p class="text-xs text-[var(--text-sub)] mb-2">ê°€ì… ì´ë©”ì¼</p>
                <input type="email" id="find-id-email" class="input-dark mb-3" placeholder="email@example.com">
                <button onclick="findID()" class="w-full bg-[var(--volt)] text-black font-bold py-3 rounded-xl">í™•ì¸</button>
                <div id="find-result-text-id" class="mt-4 text-center text-sm border border-[var(--border-color)] p-3 rounded-lg find-result-box">
                    ê²°ê³¼ í‘œì‹œ
                </div>
            </div>

            <div id="tab-pw" class="tab-content" style="display:none;">
                <p class="text-xs text-[var(--text-sub)] mb-2">ì•„ì´ë”” & ì´ë©”ì¼</p>
                <input type="text" id="find-pw-id" class="input-dark mb-2" placeholder="ì•„ì´ë””">
                <input type="email" id="find-pw-email" class="input-dark mb-3" placeholder="ì´ë©”ì¼">
                <button onclick="findPW()" class="w-full bg-[var(--volt)] text-black font-bold py-3 rounded-xl">í™•ì¸</button>
                <div id="find-result-text-pw" class="mt-4 text-center text-sm border border-[var(--border-color)] p-3 rounded-lg find-result-box">
                    ê²°ê³¼ í‘œì‹œ
                </div>
            </div>
        </div>
    </div>

</body>
</html>